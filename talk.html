<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>微薄的发布</title>
	<style type="text/css">
		.content{
			width: 200px;
			height: 200px;
			border:1px solid gray;
		}
		.delete1{
			display: none;
		}
	</style>
</head>
<body>
	<textarea id="talk" class="talk">说点儿什么</textarea>
	<input id="public1" class="public1" type="button" value="发布">
	<div id="content" class="content">
		<!-- <div id="content1" class="content1"></div> -->
	</div>
	<!-- <input id="delete1" class="delete1" type="button" value="删除"> -->
</body>
<script type="text/javascript">
	var talk = document.getElementById("talk");
	var public1 = document.getElementById("public1");
	var content = document.getElementById("content");
	var delete1 = document.getElementById("delete1");
	var divs = content.getElementsByTagName("div");	
	public1.onclick = function(){
		var mm = divs[0];
		var newdiv = document.createElement("div");
		newdiv.innerHTML = talk.value;
		content.insertBefore(newdiv,mm);
		newinput = document.createElement("input");
		newinput.setAttribute("type","button");
		newinput.setAttribute("value","删除");
		newdiv.appendChild(newinput);
	}
	var deletes = document.getElementById("content").getElementsByTagName("input");
	for(var i=0;i<=deletes.length;i++){
		deletes[i].onclick = function(){
			for(var j=0;j<=deletes.length;j++){
				if(this == deletes[j]){
					var nn = divs[j];
		            content.removeChild(nn);
		            deletes[j].display = "none";
				}
	        }
	    }
	}
	
</script>
</html>